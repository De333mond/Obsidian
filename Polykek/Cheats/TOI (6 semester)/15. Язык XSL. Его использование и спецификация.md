#Polykek/cheats/TOI #XSL-XML

## Общие сведения о языке XSL

В самом XML-документе нет никаких указаний на то, как его следует отображать. Это значит, что вид документа в браузере без этих указаний явно не годится для созерцания пользователем. В виду этого были разработаны правила преобразования XML-документа к удобочитаемому виду. Для HTML-документов существуют стилевые таблицы CSS, а для XMLдокументов — язык XSL.

## Использование языка XSL

> XSL (eXtensible Stylesheet Language) — расширяемый язык таблиц стилей.

С помощью XSL можно трансформировать XML-документ в любой вид, будь то HTML, WML, RTF, PDF, SQL и др. XSL несёт в себе информацию о том, как будет оформлен документ, где и как должны располагаться данные.

![[Pasted image 20240611091919.png]]

XSL состоит из трех взаимосвязанных спецификаций: 
• XSL Transformations (XSLT) 
• Xpath 
• XSL Formatting Objects (XSL-FO)

XSL Transformations (XSLT) - язык преобразований предназначен для изменения структуры документа XML или его преобразования в документ на другом диалекте (языке) XML (в том числе в HTML).

XPath - язык XPath представляет собой подмножество XSL, используемое языком XSLT для идентификации (поиска) отдельных частей документа XML(язык запросов к узлам дерева документа XML) Таким образом XPath можно считать частью языка XSLT. XSL Formatting Objects (XSL-FO) - язык форматирования объектов представляет собой словарь XML, предназначенный для описания вывода документов XML. XSL-FO - язык разметки типографских макетов и иных предпечатных материалов.

Документ XLS-FO — это XML файл, в котором хранятся данные для печати или вывода на экран (например, просто текст). Эти данные находятся внутри тегов fo:block, fo:table, fo:simple-page-master и др., где указаны отступы, переводы строк и т.д.

Общая идея использования XSL-FO состоит в том, что пользователь создаёт документ в виде XML. Затем, пользователь применяет XSLTпреобразование. XSLT преобразует XML в XSL-FO. После того как документ на XSL-FO получен, он передаётся приложению, которое носит название FOпроцессор. Эта программа конвертирует XSL-FO-документ в какой-либо читаемый и/или печатаемый формат. Наиболее часто используется преобразование в PDF либо PS; некоторые FO-процессоры могут давать на выходе RTF-файлы либо просто показывать документ в окне.

## Спецификации языка XSL

Язык XSLT состоит более чем из 30-ти инструкций (тегов). Все они имеют общий вид:

```xsl
<пространство-имен:имя-инструкции 
[атрибут="значение" [атрибут="значение"]]>
</пространство-имён:имя-инструкции>
```
где в качестве пространства-имен перед именем тега обычно указываестя «xsl», но могут использоваться и другие

Например:
```
<xsl:value-of select="gerichten/gericht/Name"/>
```

где: 
• value-of – имя инструкции 
• select – атрибут 
• gerichten/gericht/Name – значение.

Пример структуры XSLT документа:
```
<?xml version="1.0"?>
	<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
		<xsl:template match="/">
			< !-- набор инструкций -- >
		</xsl:template>
		< !-- ... -- >
</xsl:stylesheet>
```

здесь: 
• xsl:stylesheet — является корневым элементом для любого XSL документа. 
• xsl:template — тег шаблона (основной компонент преобразования в XSL документе.

С точки зрения XSLT существует входной документ — XML-документ, подлежащий преобразованию, и выходной документ — результат преобразования можно применять для преобразования XML-документа в формат, знакомый браузерам.

Кроме того, XSLT может добавлять совершенно новые элементы в выходной документ или удалять элементы. Этот язык может изменить порядок следования элементов, произвести проверку и на ее основе решить, какие элементы показывать, и еще многое другое.

Процесс преобразования XML-документа с помощью таблицы стилей XSL напоминает прохождение света через призму: под действием стекла призмы исходный свет преобразуется и выглядит на выходе совсем иначе (рис.1).

В процессе преобразования XSLT использует XPath для определения тех частей во входном документе, которые соответствуют одному или нескольким заранее заданным шаблонам. Когда такое соответствие обнаруживается, XSLT преобразует соответствующую часть входного документа в часть выходного документа. Те части входного документа, которые не соответствуют шаблону, будут попадать в выходной документ без изменений.